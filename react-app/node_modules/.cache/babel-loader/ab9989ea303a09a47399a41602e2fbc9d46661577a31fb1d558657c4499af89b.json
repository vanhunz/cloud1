{"ast":null,"code":"import { useLayoutEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { noop } from '../util/DataUtils';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { selectZIndexPortalId } from './zIndexSelectors';\nimport { registerZIndexPortal, unregisterZIndexPortal } from '../state/zIndexSlice';\nimport { useIsInChartContext } from '../context/chartLayoutContext';\nimport { useIsPanorama } from '../context/PanoramaContext';\n\n/**\n * @since 3.4\n */\n\n/**\n * A layer that renders its children into a portal corresponding to the given zIndex.\n * We can't use regular CSS z-index because SVG does not support it.\n * So instead, we create separate DOM nodes for each zIndex layer\n * and render the children into the corresponding DOM node using React portals.\n *\n * This component must be used inside a Chart component.\n *\n * @param zIndex numeric zIndex value, higher values are rendered on top of lower values\n * @param children the content to render inside this zIndex layer\n */\nexport function ZIndexLayer(_ref) {\n  var {\n    zIndex,\n    children\n  } = _ref;\n  /*\n   * If we are outside of chart, then we can't rely on the zIndex portal state,\n   * so we just render normally.\n   */\n  var isInChartContext = useIsInChartContext();\n  /*\n   * If zIndex is undefined then we render normally without portals.\n   * Also, if zIndex is 0, we render normally without portals,\n   * because 0 is the default layer that does not need a portal.\n   */\n  var shouldRenderInPortal = isInChartContext && zIndex !== undefined && zIndex !== 0;\n  var isPanorama = useIsPanorama();\n  var dispatch = useAppDispatch();\n  useLayoutEffect(() => {\n    if (!shouldRenderInPortal) {\n      // Nothing to do. We have to call the hook because of the rules of hooks.\n      return noop;\n    }\n    /*\n     * Because zIndexes are dynamic (meaning, we're not working with a predefined set of layers,\n     * but we allow users to define any zIndex at any time), we need to register\n     * the requested zIndex in the global store. This way, the ZIndexPortals component\n     * can render the corresponding portals and only the requested ones.\n     */\n    dispatch(registerZIndexPortal({\n      zIndex\n    }));\n    return () => {\n      dispatch(unregisterZIndexPortal({\n        zIndex\n      }));\n    };\n  }, [dispatch, zIndex, shouldRenderInPortal]);\n  var portalId = useAppSelector(state => selectZIndexPortalId(state, zIndex, isPanorama));\n  if (!shouldRenderInPortal) {\n    // If no zIndex is provided or zIndex is 0, render normally without portals\n    return children;\n  }\n  if (!portalId) {\n    /*\n     * If we don't have a portalId yet, this means that the registration\n     * has not been processed yet by the ZIndexPortals component.\n     * So here we render null and wait for the next render cycle.\n     */\n    return null;\n  }\n  var zIndexPortal = document.getElementById(portalId);\n  if (zIndexPortal) {\n    return /*#__PURE__*/createPortal(children, zIndexPortal);\n  }\n  /*\n   * If the portal is not found, this means it has not been rendered yet.\n   * So here we render null and wait for the next render cycle.\n   */\n  return null;\n}","map":{"version":3,"names":["useLayoutEffect","createPortal","noop","useAppDispatch","useAppSelector","selectZIndexPortalId","registerZIndexPortal","unregisterZIndexPortal","useIsInChartContext","useIsPanorama","ZIndexLayer","_ref","zIndex","children","isInChartContext","shouldRenderInPortal","undefined","isPanorama","dispatch","portalId","state","zIndexPortal","document","getElementById"],"sources":["C:/Users/LENOVO/Desktop/web/cloud/react-app/node_modules/recharts/es6/zIndex/ZIndexLayer.js"],"sourcesContent":["import { useLayoutEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { noop } from '../util/DataUtils';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { selectZIndexPortalId } from './zIndexSelectors';\nimport { registerZIndexPortal, unregisterZIndexPortal } from '../state/zIndexSlice';\nimport { useIsInChartContext } from '../context/chartLayoutContext';\nimport { useIsPanorama } from '../context/PanoramaContext';\n\n/**\n * @since 3.4\n */\n\n/**\n * A layer that renders its children into a portal corresponding to the given zIndex.\n * We can't use regular CSS z-index because SVG does not support it.\n * So instead, we create separate DOM nodes for each zIndex layer\n * and render the children into the corresponding DOM node using React portals.\n *\n * This component must be used inside a Chart component.\n *\n * @param zIndex numeric zIndex value, higher values are rendered on top of lower values\n * @param children the content to render inside this zIndex layer\n */\nexport function ZIndexLayer(_ref) {\n  var {\n    zIndex,\n    children\n  } = _ref;\n  /*\n   * If we are outside of chart, then we can't rely on the zIndex portal state,\n   * so we just render normally.\n   */\n  var isInChartContext = useIsInChartContext();\n  /*\n   * If zIndex is undefined then we render normally without portals.\n   * Also, if zIndex is 0, we render normally without portals,\n   * because 0 is the default layer that does not need a portal.\n   */\n  var shouldRenderInPortal = isInChartContext && zIndex !== undefined && zIndex !== 0;\n  var isPanorama = useIsPanorama();\n  var dispatch = useAppDispatch();\n  useLayoutEffect(() => {\n    if (!shouldRenderInPortal) {\n      // Nothing to do. We have to call the hook because of the rules of hooks.\n      return noop;\n    }\n    /*\n     * Because zIndexes are dynamic (meaning, we're not working with a predefined set of layers,\n     * but we allow users to define any zIndex at any time), we need to register\n     * the requested zIndex in the global store. This way, the ZIndexPortals component\n     * can render the corresponding portals and only the requested ones.\n     */\n    dispatch(registerZIndexPortal({\n      zIndex\n    }));\n    return () => {\n      dispatch(unregisterZIndexPortal({\n        zIndex\n      }));\n    };\n  }, [dispatch, zIndex, shouldRenderInPortal]);\n  var portalId = useAppSelector(state => selectZIndexPortalId(state, zIndex, isPanorama));\n  if (!shouldRenderInPortal) {\n    // If no zIndex is provided or zIndex is 0, render normally without portals\n    return children;\n  }\n  if (!portalId) {\n    /*\n     * If we don't have a portalId yet, this means that the registration\n     * has not been processed yet by the ZIndexPortals component.\n     * So here we render null and wait for the next render cycle.\n     */\n    return null;\n  }\n  var zIndexPortal = document.getElementById(portalId);\n  if (zIndexPortal) {\n    return /*#__PURE__*/createPortal(children, zIndexPortal);\n  }\n  /*\n   * If the portal is not found, this means it has not been rendered yet.\n   * So here we render null and wait for the next render cycle.\n   */\n  return null;\n}"],"mappings":"AAAA,SAASA,eAAe,QAAQ,OAAO;AACvC,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,cAAc,EAAEC,cAAc,QAAQ,gBAAgB;AAC/D,SAASC,oBAAoB,QAAQ,mBAAmB;AACxD,SAASC,oBAAoB,EAAEC,sBAAsB,QAAQ,sBAAsB;AACnF,SAASC,mBAAmB,QAAQ,+BAA+B;AACnE,SAASC,aAAa,QAAQ,4BAA4B;;AAE1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,WAAWA,CAACC,IAAI,EAAE;EAChC,IAAI;IACFC,MAAM;IACNC;EACF,CAAC,GAAGF,IAAI;EACR;AACF;AACA;AACA;EACE,IAAIG,gBAAgB,GAAGN,mBAAmB,CAAC,CAAC;EAC5C;AACF;AACA;AACA;AACA;EACE,IAAIO,oBAAoB,GAAGD,gBAAgB,IAAIF,MAAM,KAAKI,SAAS,IAAIJ,MAAM,KAAK,CAAC;EACnF,IAAIK,UAAU,GAAGR,aAAa,CAAC,CAAC;EAChC,IAAIS,QAAQ,GAAGf,cAAc,CAAC,CAAC;EAC/BH,eAAe,CAAC,MAAM;IACpB,IAAI,CAACe,oBAAoB,EAAE;MACzB;MACA,OAAOb,IAAI;IACb;IACA;AACJ;AACA;AACA;AACA;AACA;IACIgB,QAAQ,CAACZ,oBAAoB,CAAC;MAC5BM;IACF,CAAC,CAAC,CAAC;IACH,OAAO,MAAM;MACXM,QAAQ,CAACX,sBAAsB,CAAC;QAC9BK;MACF,CAAC,CAAC,CAAC;IACL,CAAC;EACH,CAAC,EAAE,CAACM,QAAQ,EAAEN,MAAM,EAAEG,oBAAoB,CAAC,CAAC;EAC5C,IAAII,QAAQ,GAAGf,cAAc,CAACgB,KAAK,IAAIf,oBAAoB,CAACe,KAAK,EAAER,MAAM,EAAEK,UAAU,CAAC,CAAC;EACvF,IAAI,CAACF,oBAAoB,EAAE;IACzB;IACA,OAAOF,QAAQ;EACjB;EACA,IAAI,CAACM,QAAQ,EAAE;IACb;AACJ;AACA;AACA;AACA;IACI,OAAO,IAAI;EACb;EACA,IAAIE,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAACJ,QAAQ,CAAC;EACpD,IAAIE,YAAY,EAAE;IAChB,OAAO,aAAapB,YAAY,CAACY,QAAQ,EAAEQ,YAAY,CAAC;EAC1D;EACA;AACF;AACA;AACA;EACE,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}